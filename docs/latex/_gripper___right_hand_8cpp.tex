\hypertarget{_gripper___right_hand_8cpp}{}\doxysection{src/\+Gripper\+\_\+\+Right\+Hand.cpp File Reference}
\label{_gripper___right_hand_8cpp}\index{src/Gripper\_RightHand.cpp@{src/Gripper\_RightHand.cpp}}


T\+I\+A\+Go\textquotesingle{}s right hand\textquotesingle{}s gripper controller.  


{\ttfamily \#include $<$exception$>$}\newline
{\ttfamily \#include $<$string$>$}\newline
{\ttfamily \#include $<$ros/ros.\+h$>$}\newline
{\ttfamily \#include $<$actionlib/client/simple\+\_\+action\+\_\+client.\+h$>$}\newline
{\ttfamily \#include $<$control\+\_\+msgs/\+Follow\+Joint\+Trajectory\+Action.\+h$>$}\newline
{\ttfamily \#include $<$ros/topic.\+h$>$}\newline
{\ttfamily \#include $<$std\+\_\+srvs/\+Empty.\+h$>$}\newline
{\ttfamily \#include $<$unity\+\_\+robotics\+\_\+demo\+\_\+msgs/\+My\+Hand\+Closed.\+h$>$}\newline
Include dependency graph for Gripper\+\_\+\+Right\+Hand.\+cpp\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_gripper___right_hand_8cpp__incl}
\end{center}
\end{figure}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{_gripper___right_hand_8cpp_a3dc08be704bcd99a585c9db6c4ab6641}\label{_gripper___right_hand_8cpp_a3dc08be704bcd99a585c9db6c4ab6641}} 
typedef actionlib\+::\+Simple\+Action\+Client$<$ control\+\_\+msgs\+::\+Follow\+Joint\+Trajectory\+Action $>$ {\bfseries gripper\+\_\+control\+\_\+client}
\item 
\mbox{\Hypertarget{_gripper___right_hand_8cpp_a26c3cdbb9c041d522ecf54f0ad07d129}\label{_gripper___right_hand_8cpp_a26c3cdbb9c041d522ecf54f0ad07d129}} 
typedef boost\+::shared\+\_\+ptr$<$ gripper\+\_\+control\+\_\+client $>$ {\bfseries gripper\+\_\+control\+\_\+client\+\_\+\+Ptr}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{_gripper___right_hand_8cpp_acf15494a8b9ccb8fbe7530e707347587}{create\+Right\+Gripper\+Client}} (gripper\+\_\+control\+\_\+client\+\_\+\+Ptr \&action\+Client)
\begin{DoxyCompactList}\small\item\em function to create action client \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_gripper___right_hand_8cpp_a0d5b4ad312343f4406cc200d8c7f5afc}{waypoints\+\_\+open\+Gripper\+\_\+goal}} (control\+\_\+msgs\+::\+Follow\+Joint\+Trajectory\+Goal \&goal)
\begin{DoxyCompactList}\small\item\em function to generate a trajectory for the gripper \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_gripper___right_hand_8cpp_aa87efec2f2fc4f2b42387c05e3752e29}{open\+Right\+Gripper}} (gripper\+\_\+control\+\_\+client\+\_\+\+Ptr \&gripper\+\_\+client)
\begin{DoxyCompactList}\small\item\em function to open T\+I\+A\+Go\textquotesingle{}s gripper \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_gripper___right_hand_8cpp_af6196251efcf8d56c5c771231a888468}{Unity\+Callback}} (const unity\+\_\+robotics\+\_\+demo\+\_\+msgs\+::\+My\+Hand\+Closed\+Const\+Ptr \&msg)
\begin{DoxyCompactList}\small\item\em Subscriber Callback for /right\+\_\+hand\+\_\+grip. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{_gripper___right_hand_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}{main}} (int argc, char $\ast$$\ast$argv)
\begin{DoxyCompactList}\small\item\em main function \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{_gripper___right_hand_8cpp_a63b87d557c89c1139e24f6f15473730b}\label{_gripper___right_hand_8cpp_a63b87d557c89c1139e24f6f15473730b}} 
ros\+::\+Service\+Client \mbox{\hyperlink{_gripper___right_hand_8cpp_a63b87d557c89c1139e24f6f15473730b}{Close\+Gripper\+C\+Lient}}
\begin{DoxyCompactList}\small\item\em global client definition \end{DoxyCompactList}\item 
\mbox{\Hypertarget{_gripper___right_hand_8cpp_a45c6986e9b1ce7bfdc550e9c2224e3cf}\label{_gripper___right_hand_8cpp_a45c6986e9b1ce7bfdc550e9c2224e3cf}} 
std\+\_\+srvs\+::\+Empty \mbox{\hyperlink{_gripper___right_hand_8cpp_a45c6986e9b1ce7bfdc550e9c2224e3cf}{empty\+Obj}}
\begin{DoxyCompactList}\small\item\em global empty message definition \end{DoxyCompactList}\item 
\mbox{\Hypertarget{_gripper___right_hand_8cpp_aa44e0ff72f40ec7c66a17f45de1699c7}\label{_gripper___right_hand_8cpp_aa44e0ff72f40ec7c66a17f45de1699c7}} 
bool \mbox{\hyperlink{_gripper___right_hand_8cpp_aa44e0ff72f40ec7c66a17f45de1699c7}{new\+\_\+hand\+\_\+position}} = false
\begin{DoxyCompactList}\small\item\em global boolean to identify a different gesture received \end{DoxyCompactList}\item 
\mbox{\Hypertarget{_gripper___right_hand_8cpp_a2141999ce995d186fda8119f4dcb7daa}\label{_gripper___right_hand_8cpp_a2141999ce995d186fda8119f4dcb7daa}} 
bool \mbox{\hyperlink{_gripper___right_hand_8cpp_a2141999ce995d186fda8119f4dcb7daa}{hand\+\_\+closed}}
\begin{DoxyCompactList}\small\item\em global boolean to identify hand closed/open \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
T\+I\+A\+Go\textquotesingle{}s right hand\textquotesingle{}s gripper controller. 

\begin{DoxyAuthor}{Author}
Claudio Del Gaizo 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
7/12/2023
\end{DoxyDate}
Subscribes to\+: ~\newline


/right\+\_\+hand\+\_\+grip \+: to have info about user\textquotesingle{}s right hand\textquotesingle{}s gestures from Unity

Action Client to\+: ~\newline


/parallel\+\_\+gripper\+\_\+right\+\_\+controller/follow\+\_\+joint\+\_\+trajectory \+: to move T\+I\+A\+Go\textquotesingle{}s right gripper

Service client to\+: ~\newline


/parallel\+\_\+gripper\+\_\+right\+\_\+controller/grasp \+: to perform grasping action with T\+I\+A\+Go\textquotesingle{}s gripper

Description\+:

This simple node subscribes to the /right\+\_\+hand\+\_\+grip to receive data from Unity\textquotesingle{}s publisher about the gestures of the user\textquotesingle{}s right hand. Then uses the received information to close T\+I\+A\+Go\textquotesingle{}s gripper calling /parallel\+\_\+gripper\+\_\+right\+\_\+controller/grasp service, or to open it calling /parallel\+\_\+gripper\+\_\+right\+\_\+controller/follow\+\_\+joint\+\_\+trajectory action service. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{_gripper___right_hand_8cpp_acf15494a8b9ccb8fbe7530e707347587}\label{_gripper___right_hand_8cpp_acf15494a8b9ccb8fbe7530e707347587}} 
\index{Gripper\_RightHand.cpp@{Gripper\_RightHand.cpp}!createRightGripperClient@{createRightGripperClient}}
\index{createRightGripperClient@{createRightGripperClient}!Gripper\_RightHand.cpp@{Gripper\_RightHand.cpp}}
\doxysubsubsection{\texorpdfstring{createRightGripperClient()}{createRightGripperClient()}}
{\footnotesize\ttfamily void create\+Right\+Gripper\+Client (\begin{DoxyParamCaption}\item[{gripper\+\_\+control\+\_\+client\+\_\+\+Ptr \&}]{action\+Client }\end{DoxyParamCaption})}



function to create action client 


\begin{DoxyParams}{Parameters}
{\em action\+\_\+client} & \+: gripper\+\_\+control\+\_\+client\+\_\+\+Ptr\& \+: the pointer to the action client\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void
\end{DoxyReturn}
This function is called to creat a client to the /parallel\+\_\+gripper\+\_\+right\+\_\+controller/follow\+\_\+joint\+\_\+trajectory action service, used to control T\+I\+A\+Go\textquotesingle{}s right gripper \mbox{\Hypertarget{_gripper___right_hand_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}\label{_gripper___right_hand_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}} 
\index{Gripper\_RightHand.cpp@{Gripper\_RightHand.cpp}!main@{main}}
\index{main@{main}!Gripper\_RightHand.cpp@{Gripper\_RightHand.cpp}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$$\ast$}]{argv }\end{DoxyParamCaption})}



main function 

Entry point. Initializes the node, the subscriber to /right\+\_\+hand\+\_\+grip\+\_\+topic, the action client to open T\+I\+A\+GO\textquotesingle{}s gripper and the service client to /parallel\+\_\+gripper\+\_\+right\+\_\+controller/grasp to close it. Then in the main loop, it waits for a new gesture to be received, then sends a request to the correspondant service/action to open or close T\+I\+A\+Go\textquotesingle{}s gripper. \mbox{\Hypertarget{_gripper___right_hand_8cpp_aa87efec2f2fc4f2b42387c05e3752e29}\label{_gripper___right_hand_8cpp_aa87efec2f2fc4f2b42387c05e3752e29}} 
\index{Gripper\_RightHand.cpp@{Gripper\_RightHand.cpp}!openRightGripper@{openRightGripper}}
\index{openRightGripper@{openRightGripper}!Gripper\_RightHand.cpp@{Gripper\_RightHand.cpp}}
\doxysubsubsection{\texorpdfstring{openRightGripper()}{openRightGripper()}}
{\footnotesize\ttfamily void open\+Right\+Gripper (\begin{DoxyParamCaption}\item[{gripper\+\_\+control\+\_\+client\+\_\+\+Ptr \&}]{gripper\+\_\+client }\end{DoxyParamCaption})}



function to open T\+I\+A\+Go\textquotesingle{}s gripper 


\begin{DoxyParams}{Parameters}
{\em gripper\+\_\+client} & \+: gripper\+\_\+control\+\_\+client\+\_\+\+Ptr\+: the pointer to the action client\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void
\end{DoxyReturn}
This function opens T\+I\+A\+Go\textquotesingle{}s gripper, firstly by calling \textquotesingle{}waypoints\+\_\+open\+Gripper\+\_\+goal\textquotesingle{} function to generate the trajectory, the sending the result to the action client \textquotesingle{}/parallel\+\_\+gripper\+\_\+right\+\_\+controller/follow\+\_\+joint\+\_\+trajectory\textquotesingle{} \mbox{\Hypertarget{_gripper___right_hand_8cpp_af6196251efcf8d56c5c771231a888468}\label{_gripper___right_hand_8cpp_af6196251efcf8d56c5c771231a888468}} 
\index{Gripper\_RightHand.cpp@{Gripper\_RightHand.cpp}!UnityCallback@{UnityCallback}}
\index{UnityCallback@{UnityCallback}!Gripper\_RightHand.cpp@{Gripper\_RightHand.cpp}}
\doxysubsubsection{\texorpdfstring{UnityCallback()}{UnityCallback()}}
{\footnotesize\ttfamily void Unity\+Callback (\begin{DoxyParamCaption}\item[{const unity\+\_\+robotics\+\_\+demo\+\_\+msgs\+::\+My\+Hand\+Closed\+Const\+Ptr \&}]{msg }\end{DoxyParamCaption})}



Subscriber Callback for /right\+\_\+hand\+\_\+grip. 


\begin{DoxyParams}{Parameters}
{\em msg} & \+: unity\+\_\+robotics\+\_\+demo\+\_\+msgs\+::\+My\+Hand\+Closed\+Const\+Ptr\& \+: a bolean value stating user\textquotesingle{}s hand state ( 0 = open/ 1 = closed)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void
\end{DoxyReturn}
Callback function to receive msgs from U\+N\+I\+TY environment about hand gestures (open/closed), and update global variables to inform the main function that a new hand gesture has been received, specifying if the user\textquotesingle{}s hand is now open or closed. \mbox{\Hypertarget{_gripper___right_hand_8cpp_a0d5b4ad312343f4406cc200d8c7f5afc}\label{_gripper___right_hand_8cpp_a0d5b4ad312343f4406cc200d8c7f5afc}} 
\index{Gripper\_RightHand.cpp@{Gripper\_RightHand.cpp}!waypoints\_openGripper\_goal@{waypoints\_openGripper\_goal}}
\index{waypoints\_openGripper\_goal@{waypoints\_openGripper\_goal}!Gripper\_RightHand.cpp@{Gripper\_RightHand.cpp}}
\doxysubsubsection{\texorpdfstring{waypoints\_openGripper\_goal()}{waypoints\_openGripper\_goal()}}
{\footnotesize\ttfamily void waypoints\+\_\+open\+Gripper\+\_\+goal (\begin{DoxyParamCaption}\item[{control\+\_\+msgs\+::\+Follow\+Joint\+Trajectory\+Goal \&}]{goal }\end{DoxyParamCaption})}



function to generate a trajectory for the gripper 


\begin{DoxyParams}{Parameters}
{\em goal} & \+: control\+\_\+msgs\+::\+Follow\+Joint\+Trajectory\+Goal\+: the values of joints angles to control T\+I\+A\+Go\textquotesingle{}s gripper\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void
\end{DoxyReturn}
This function generates a simple trajectory with one waypoint to open T\+I\+A\+Go\textquotesingle{}s gripper updating global variable \textquotesingle{}goal\textquotesingle{} 